<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube OneClick Plugin - Visual Development Guide</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap');
        
        :root {
            --bg-dark: #0d1117;
            --bg-card: #161b22;
            --bg-hover: #21262d;
            --text-primary: #f0f6fc;
            --text-secondary: #8b949e;
            --accent-blue: #58a6ff;
            --accent-green: #3fb950;
            --accent-purple: #a371f7;
            --accent-orange: #f78166;
            --accent-yellow: #d29922;
            --accent-pink: #db61a2;
            --border: #30363d;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        /* Hero Section */
        .hero {
            text-align: center;
            padding: 80px 20px;
            background: linear-gradient(135deg, #1a1f35 0%, #0d1117 100%);
            border-bottom: 1px solid var(--border);
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 30% 50%, rgba(88, 166, 255, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 70% 50%, rgba(163, 113, 247, 0.1) 0%, transparent 50%);
        }
        
        .hero h1 {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            position: relative;
        }
        
        .hero p {
            font-size: 1.3rem;
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto;
            position: relative;
        }
        
        /* Section Styles */
        .section {
            padding: 60px 0;
            border-bottom: 1px solid var(--border);
        }
        
        .section-title {
            font-size: 2rem;
            font-weight: 600;
            margin-bottom: 40px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .section-title .emoji {
            font-size: 2.5rem;
        }
        
        /* Flow Diagram */
        #flow-diagram {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 40px;
            border: 1px solid var(--border);
        }
        
        /* Architecture Diagram */
        #architecture-diagram {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 40px;
            border: 1px solid var(--border);
        }
        
        /* Cards Grid */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
        }
        
        .card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 30px;
            border: 1px solid var(--border);
            transition: all 0.3s ease;
        }
        
        .card:hover {
            border-color: var(--accent-blue);
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }
        
        .card-icon {
            font-size: 3rem;
            margin-bottom: 20px;
        }
        
        .card h3 {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: var(--text-primary);
        }
        
        .card p {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }
        
        /* Code Block */
        .code-block {
            background: #0d1117;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
            border: 1px solid var(--border);
        }
        
        .code-block code {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            color: var(--text-primary);
        }
        
        .code-block .comment {
            color: var(--text-secondary);
        }
        
        .code-block .keyword {
            color: var(--accent-pink);
        }
        
        .code-block .string {
            color: var(--accent-green);
        }
        
        .code-block .function {
            color: var(--accent-purple);
        }
        
        /* Timeline */
        .timeline {
            position: relative;
            padding-left: 40px;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(to bottom, var(--accent-blue), var(--accent-purple), var(--accent-green));
        }
        
        .timeline-item {
            position: relative;
            margin-bottom: 40px;
            padding: 25px;
            background: var(--bg-card);
            border-radius: 12px;
            border: 1px solid var(--border);
        }
        
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -33px;
            top: 30px;
            width: 16px;
            height: 16px;
            background: var(--accent-blue);
            border-radius: 50%;
            border: 3px solid var(--bg-dark);
        }
        
        .timeline-item:nth-child(2)::before { background: var(--accent-purple); }
        .timeline-item:nth-child(3)::before { background: var(--accent-green); }
        .timeline-item:nth-child(4)::before { background: var(--accent-orange); }
        .timeline-item:nth-child(5)::before { background: var(--accent-yellow); }
        
        .timeline-item h4 {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: var(--text-primary);
        }
        
        .timeline-item p {
            color: var(--text-secondary);
        }
        
        /* Pros Cons */
        .pros-cons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        
        @media (max-width: 768px) {
            .pros-cons {
                grid-template-columns: 1fr;
            }
        }
        
        .pros, .cons {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 30px;
            border: 1px solid var(--border);
        }
        
        .pros {
            border-left: 4px solid var(--accent-green);
        }
        
        .cons {
            border-left: 4px solid var(--accent-orange);
        }
        
        .pros h3, .cons h3 {
            font-size: 1.3rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .pros ul, .cons ul {
            list-style: none;
        }
        
        .pros li, .cons li {
            padding: 10px 0;
            padding-left: 30px;
            position: relative;
            color: var(--text-secondary);
        }
        
        .pros li::before {
            content: 'âœ“';
            position: absolute;
            left: 0;
            color: var(--accent-green);
            font-weight: bold;
        }
        
        .cons li::before {
            content: '!';
            position: absolute;
            left: 0;
            color: var(--accent-orange);
            font-weight: bold;
        }
        
        /* ADHD Section */
        .adhd-tips {
            background: linear-gradient(135deg, rgba(163, 113, 247, 0.1), rgba(88, 166, 255, 0.1));
            border-radius: 16px;
            padding: 40px;
            border: 1px solid var(--accent-purple);
        }
        
        .adhd-tips h3 {
            font-size: 1.5rem;
            margin-bottom: 30px;
            color: var(--accent-purple);
        }
        
        .task-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .task-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 20px;
            background: var(--bg-card);
            border-radius: 12px;
            border: 1px solid var(--border);
            transition: all 0.3s ease;
        }
        
        .task-item:hover {
            background: var(--bg-hover);
        }
        
        .task-number {
            width: 40px;
            height: 40px;
            background: var(--accent-blue);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 1.1rem;
            flex-shrink: 0;
        }
        
        .task-content {
            flex: 1;
        }
        
        .task-content h4 {
            margin-bottom: 5px;
        }
        
        .task-content p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        .task-time {
            color: var(--accent-yellow);
            font-size: 0.85rem;
            font-weight: 500;
        }
        
        /* Stats */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin: 40px 0;
        }
        
        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        .stat-card {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            border: 1px solid var(--border);
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-top: 5px;
        }
        
        /* SVG Styles */
        .node-rect {
            rx: 8;
            ry: 8;
        }
        
        .node-text {
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            fill: var(--text-primary);
        }
        
        .link-path {
            fill: none;
            stroke: var(--text-secondary);
            stroke-width: 2;
        }
        
        .arrow-marker {
            fill: var(--text-secondary);
        }
        
        /* Footer */
        .footer {
            text-align: center;
            padding: 40px;
            color: var(--text-secondary);
        }
        
        .footer a {
            color: var(--accent-blue);
            text-decoration: none;
        }
        
        .footer a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="hero">
        <h1>YouTube OneClick Timestamp</h1>
        <p>ì˜µì‹œë””ì–¸ í”ŒëŸ¬ê·¸ì¸ ê°œë°œ ì‹œê°í™” ê°€ì´ë“œ - í´ë¦­ í•œ ë²ˆìœ¼ë¡œ ì˜ìƒ íƒ€ì„ìŠ¤íƒ¬í”„ ì í”„</p>
    </div>
    
    <div class="container">
        <!-- Stats -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-number">1h</div>
                <div class="stat-label">ê°œë°œ ì‹œê°„</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">3</div>
                <div class="stat-label">í•µì‹¬ ëª¨ë“ˆ</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">~200</div>
                <div class="stat-label">ì½”ë“œ ë¼ì¸</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">5</div>
                <div class="stat-label">ë‹¨ê³„ íë¦„</div>
            </div>
        </div>
        
        <!-- Flow Diagram Section -->
        <section class="section">
            <h2 class="section-title"><span class="emoji">ğŸ”„</span> í”ŒëŸ¬ê·¸ì¸ ë™ì‘ íë¦„</h2>
            <div id="flow-diagram"></div>
        </section>
        
        <!-- Architecture Section -->
        <section class="section">
            <h2 class="section-title"><span class="emoji">ğŸ—ï¸</span> ëª¨ë“ˆ ì•„í‚¤í…ì²˜</h2>
            <div id="architecture-diagram"></div>
        </section>
        
        <!-- Core Concepts -->
        <section class="section">
            <h2 class="section-title"><span class="emoji">ğŸ§ </span> í•µì‹¬ ê°œë… (5ì‚´ë„ ì´í•´í•˜ê¸°)</h2>
            <div class="cards-grid">
                <div class="card">
                    <div class="card-icon">ğŸ‘€</div>
                    <h3>1. ì§€ì¼œë³´ê¸°</h3>
                    <p>í”ŒëŸ¬ê·¸ì¸ì€ í•­ìƒ ê¹¨ì–´ìˆì–´ìš”. ëˆ„êµ°ê°€ ë§í¬ë¥¼ í´ë¦­í•˜ë©´ "ì˜¤! ë­”ê°€ í´ë¦­ëë‹¤!" í•˜ê³  ì•Œì•„ì±„ìš”.</p>
                    <div class="code-block">
                        <code><span class="keyword">this</span>.<span class="function">registerDomEvent</span>(document, <span class="string">'click'</span>, handler)</code>
                    </div>
                </div>
                <div class="card">
                    <div class="card-icon">ğŸ”</div>
                    <h3>2. í™•ì¸í•˜ê¸°</h3>
                    <p>"ì´ê²Œ [play 1:23]() í˜•ì‹ì´ì•¼?" ì •ê·œì‹ìœ¼ë¡œ íŒ¨í„´ì„ í™•ì¸í•´ìš”.</p>
                    <div class="code-block">
                        <code><span class="keyword">if</span> (<span class="function">isTimestampLink</span>(text)) { ... }</code>
                    </div>
                </div>
                <div class="card">
                    <div class="card-icon">ğŸ›‘</div>
                    <h3>3. ë§‰ê¸°</h3>
                    <p>"ì ê¹! ìƒˆ ë…¸íŠ¸ ë§Œë“¤ì§€ ë§ˆ!" ê¸°ë³¸ ë™ì‘ì„ ë©ˆì¶°ìš”.</p>
                    <div class="code-block">
                        <code>evt.<span class="function">preventDefault</span>()<br>evt.<span class="function">stopPropagation</span>()</code>
                    </div>
                </div>
                <div class="card">
                    <div class="card-icon">ğŸ“º</div>
                    <h3>4. ì°¾ê¸°</h3>
                    <p>"ì´ ë…¸íŠ¸ì— ìœ íŠœë¸Œ ì˜ìƒ ìˆì–´?" iframeì„ ì°¾ì•„ìš”.</p>
                    <div class="code-block">
                        <code><span class="keyword">const</span> iframe = <span class="function">findYouTubeIframe</span>(container)</code>
                    </div>
                </div>
                <div class="card">
                    <div class="card-icon">â­ï¸</div>
                    <h3>5. ì í”„!</h3>
                    <p>"ì˜ìƒì•„, 1ë¶„ 23ì´ˆë¡œ ê°€!" postMessageë¡œ ëª…ë ¹í•´ìš”.</p>
                    <div class="code-block">
                        <code><span class="function">seekTo</span>(iframe, <span class="string">83</span>) <span class="comment">// 1:23 = 83ì´ˆ</span></code>
                    </div>
                </div>
                <div class="card">
                    <div class="card-icon">ğŸ“¬</div>
                    <h3>postMessageë€?</h3>
                    <p>YouTubeëŠ” ë‹¤ë¥¸ "ë‚˜ë¼"ì˜ˆìš”. ì§ì ‘ ì ‘ê·¼ ëª»í•´ìš”. postMessageëŠ” ì™¸êµ ì±„ë„!</p>
                    <div class="code-block">
                        <code>iframe.<span class="function">postMessage</span>({<br>&nbsp;&nbsp;func: <span class="string">'seekTo'</span>,<br>&nbsp;&nbsp;args: [<span class="string">83</span>]<br>})</code>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Timeline Section -->
        <section class="section">
            <h2 class="section-title"><span class="emoji">ğŸ“…</span> ê°œë°œ íƒ€ì„ë¼ì¸</h2>
            <div class="timeline">
                <div class="timeline-item">
                    <h4>Phase 1: í™˜ê²½ ì„¤ì • (10ë¶„)</h4>
                    <p>package.json, tsconfig.json, esbuild ì„¤ì •. npm installë¡œ ì˜ì¡´ì„± ì„¤ì¹˜.</p>
                </div>
                <div class="timeline-item">
                    <h4>Phase 2: íƒ€ì„ìŠ¤íƒ¬í”„ íŒŒì„œ (15ë¶„)</h4>
                    <p>"play 1:23" â†’ 83ì´ˆ ë³€í™˜ ë¡œì§. ì •ê·œì‹ìœ¼ë¡œ íŒ¨í„´ ë§¤ì¹­.</p>
                </div>
                <div class="timeline-item">
                    <h4>Phase 3: YouTube ì»¨íŠ¸ë¡¤ëŸ¬ (15ë¶„)</h4>
                    <p>iframe ì°¾ê¸°, postMessageë¡œ seekTo ëª…ë ¹ ì „ì†¡.</p>
                </div>
                <div class="timeline-item">
                    <h4>Phase 4: ë©”ì¸ í†µí•© (15ë¶„)</h4>
                    <p>ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡, í´ë¦­ í•¸ë“¤ëŸ¬ì—ì„œ ëª¨ë“ˆ ì—°ê²°.</p>
                </div>
                <div class="timeline-item">
                    <h4>Phase 5: ë””ë²„ê¹… & ë°°í¬ (5ë¶„)</h4>
                    <p>closest() ìˆ˜ì •, GitHub ë¦´ë¦¬ì¦ˆ ìƒì„±.</p>
                </div>
            </div>
        </section>
        
        <!-- Pros Cons Section -->
        <section class="section">
            <h2 class="section-title"><span class="emoji">âš–ï¸</span> ì¥ë‹¨ì  ë¶„ì„</h2>
            <div class="pros-cons">
                <div class="pros">
                    <h3>âœ… ì¥ì </h3>
                    <ul>
                        <li>ì›í´ë¦­ìœ¼ë¡œ ì¦‰ì‹œ ì í”„ (ìš°í´ë¦­ í•„ìš” ì—†ìŒ)</li>
                        <li>ì§ê´€ì ì¸ íƒ€ì„ìŠ¤íƒ¬í”„ í˜•ì‹ [play MM:SS]()</li>
                        <li>Reading View & Live Preview ëª¨ë‘ ì§€ì›</li>
                        <li>enablejsapi ìë™ ì¶”ê°€</li>
                        <li>ì„¤ì • ì˜µì…˜ (ìë™ì¬ìƒ, ì•Œë¦¼)</li>
                        <li>í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ ì§€ì›</li>
                        <li>ê°€ë²¼ìš´ ì½”ë“œ (~200ì¤„)</li>
                    </ul>
                </div>
                <div class="cons">
                    <h3>âš ï¸ ë‹¨ì  & ì£¼ì˜ì‚¬í•­</h3>
                    <ul>
                        <li>í† í° ì†Œëª¨ (Claudeë¡œ ê°œë°œ ì‹œ)</li>
                        <li>iframe ë¡œë“œ ì „ í´ë¦­ ì‹œ ì‹¤íŒ¨ ê°€ëŠ¥</li>
                        <li>ì—¬ëŸ¬ ì˜ìƒ ì‹œ ì²« ë²ˆì§¸ë§Œ íƒ€ê²Ÿ</li>
                        <li>enablejsapi í•„ìˆ˜ (ìë™ ì¶”ê°€ë¨)</li>
                        <li>ëª¨ë°”ì¼ í…ŒìŠ¤íŠ¸ í•„ìš”</li>
                        <li>YouTube ì •ì±… ë³€ê²½ ì‹œ ì˜í–¥</li>
                    </ul>
                </div>
            </div>
        </section>
        
        <!-- ADHD Tips Section -->
        <section class="section">
            <h2 class="section-title"><span class="emoji">ğŸ§©</span> ADHD ì¹œí™”ì  ê°œë°œ ê°€ì´ë“œ</h2>
            <div class="adhd-tips">
                <h3>ğŸ¯ ì§‘ì¤‘ë ¥ ê´€ë¦¬ë¥¼ ìœ„í•œ ë‹¨ê³„ë³„ íƒœìŠ¤í¬</h3>
                <div class="task-list">
                    <div class="task-item">
                        <div class="task-number">1</div>
                        <div class="task-content">
                            <h4>í™˜ê²½ ì„¤ì • (10ë¶„)</h4>
                            <p>í´ë” ìƒì„± â†’ npm init â†’ íŒ¨í‚¤ì§€ ì„¤ì¹˜. ì—¬ê¸°ì„œ ë©ˆì¶°ë„ OK!</p>
                        </div>
                        <div class="task-time">â±ï¸ 10ë¶„</div>
                    </div>
                    <div class="task-item">
                        <div class="task-number">2</div>
                        <div class="task-content">
                            <h4>íƒ€ì„ìŠ¤íƒ¬í”„ íŒŒì„œ ì‘ì„± (15ë¶„)</h4>
                            <p>í•˜ë‚˜ì˜ í•¨ìˆ˜ë§Œ ì§‘ì¤‘: parseTimeString(). í…ŒìŠ¤íŠ¸ê¹Œì§€!</p>
                        </div>
                        <div class="task-time">â±ï¸ 15ë¶„</div>
                    </div>
                    <div class="task-item">
                        <div class="task-number">3</div>
                        <div class="task-content">
                            <h4>YouTube ì»¨íŠ¸ë¡¤ëŸ¬ (15ë¶„)</h4>
                            <p>iframe ì°¾ê¸° â†’ postMessage ë³´ë‚´ê¸°. ì½˜ì†”ì—ì„œ í…ŒìŠ¤íŠ¸!</p>
                        </div>
                        <div class="task-time">â±ï¸ 15ë¶„</div>
                    </div>
                    <div class="task-item">
                        <div class="task-number">4</div>
                        <div class="task-content">
                            <h4>ë©”ì¸ í”ŒëŸ¬ê·¸ì¸ ì—°ê²° (15ë¶„)</h4>
                            <p>onload()ì—ì„œ ì´ë²¤íŠ¸ ë“±ë¡. handleClick()ì—ì„œ ëª¨ë“ˆ í˜¸ì¶œ.</p>
                        </div>
                        <div class="task-time">â±ï¸ 15ë¶„</div>
                    </div>
                    <div class="task-item">
                        <div class="task-number">5</div>
                        <div class="task-content">
                            <h4>í…ŒìŠ¤íŠ¸ & ë°°í¬ (5ë¶„)</h4>
                            <p>ë¹Œë“œ â†’ Obsidianì—ì„œ í…ŒìŠ¤íŠ¸ â†’ GitHub í‘¸ì‹œ!</p>
                        </div>
                        <div class="task-time">â±ï¸ 5ë¶„</div>
                    </div>
                </div>
                <div style="margin-top: 30px; padding: 20px; background: var(--bg-card); border-radius: 12px;">
                    <h4 style="color: var(--accent-yellow); margin-bottom: 15px;">ğŸ’¡ ì§‘ì¤‘ íŒ</h4>
                    <ul style="color: var(--text-secondary); list-style: disc; padding-left: 20px;">
                        <li><strong>í¬ëª¨ë„ë¡œ</strong>: 25ë¶„ ì§‘ì¤‘ â†’ 5ë¶„ íœ´ì‹</li>
                        <li><strong>í•œ ë²ˆì— í•˜ë‚˜</strong>: íŒŒì„œ â†’ ì»¨íŠ¸ë¡¤ëŸ¬ â†’ í†µí•© ìˆœì„œë¡œ</li>
                        <li><strong>ì‘ì€ ìŠ¹ë¦¬</strong>: ê° ë‹¨ê³„ ì™„ë£Œ ì‹œ commit!</li>
                        <li><strong>ì‹œê°í™”</strong>: console.logë¡œ ì§„í–‰ í™•ì¸</li>
                        <li><strong>íœ´ì‹</strong>: ë§‰íˆë©´ 5ë¶„ ì‰¬ê³  ë‹¤ì‹œ</li>
                    </ul>
                </div>
            </div>
        </section>
        
        <!-- Tech Stack -->
        <section class="section">
            <h2 class="section-title"><span class="emoji">ğŸ› ï¸</span> ê¸°ìˆ  ìŠ¤íƒ</h2>
            <div id="tech-stack-chart"></div>
        </section>
    </div>
    
    <footer class="footer">
        <p>Made with ğŸ’œ by <a href="https://github.com/VoidLight00/obsidian-youtube-oneclick">VoidLight00</a></p>
        <p style="margin-top: 10px; font-size: 0.9rem;">2026-01-20 | Obsidian Plugin Development Guide</p>
    </footer>
    
    <script>
        // Flow Diagram
        function drawFlowDiagram() {
            const container = d3.select('#flow-diagram');
            const width = container.node().getBoundingClientRect().width;
            const height = 400;
            
            const svg = container.append('svg')
                .attr('width', width)
                .attr('height', height);
            
            // Define arrow marker
            svg.append('defs').append('marker')
                .attr('id', 'arrowhead')
                .attr('viewBox', '-0 -5 10 10')
                .attr('refX', 8)
                .attr('refY', 0)
                .attr('orient', 'auto')
                .attr('markerWidth', 8)
                .attr('markerHeight', 8)
                .append('path')
                .attr('d', 'M 0,-5 L 10,0 L 0,5')
                .attr('fill', '#8b949e');
            
            const nodes = [
                { id: 'click', label: 'ğŸ‘† í´ë¦­', x: 100, y: 200, color: '#58a6ff' },
                { id: 'detect', label: 'ğŸ” ê°ì§€', x: 280, y: 200, color: '#a371f7' },
                { id: 'parse', label: 'â±ï¸ íŒŒì‹±', x: 460, y: 200, color: '#3fb950' },
                { id: 'find', label: 'ğŸ“º iframe', x: 640, y: 200, color: '#f78166' },
                { id: 'seek', label: 'â­ï¸ ì í”„!', x: 820, y: 200, color: '#d29922' }
            ];
            
            const links = [
                { source: 'click', target: 'detect' },
                { source: 'detect', target: 'parse' },
                { source: 'parse', target: 'find' },
                { source: 'find', target: 'seek' }
            ];
            
            // Draw links
            links.forEach(link => {
                const source = nodes.find(n => n.id === link.source);
                const target = nodes.find(n => n.id === link.target);
                
                svg.append('line')
                    .attr('x1', source.x + 60)
                    .attr('y1', source.y)
                    .attr('x2', target.x - 60)
                    .attr('y2', target.y)
                    .attr('stroke', '#8b949e')
                    .attr('stroke-width', 2)
                    .attr('marker-end', 'url(#arrowhead)');
            });
            
            // Draw nodes
            const nodeGroups = svg.selectAll('.node')
                .data(nodes)
                .enter()
                .append('g')
                .attr('class', 'node')
                .attr('transform', d => `translate(${d.x}, ${d.y})`);
            
            nodeGroups.append('rect')
                .attr('x', -55)
                .attr('y', -35)
                .attr('width', 110)
                .attr('height', 70)
                .attr('rx', 12)
                .attr('fill', d => d.color)
                .attr('opacity', 0.2)
                .attr('stroke', d => d.color)
                .attr('stroke-width', 2);
            
            nodeGroups.append('text')
                .attr('text-anchor', 'middle')
                .attr('dy', 5)
                .attr('fill', '#f0f6fc')
                .attr('font-size', '16px')
                .attr('font-weight', '500')
                .text(d => d.label);
            
            // Add description below
            const descriptions = [
                'registerDomEvent',
                'isTimestampLink()',
                'extractTimestamp()',
                'findYouTubeIframe()',
                'seekTo() + playVideo()'
            ];
            
            nodes.forEach((node, i) => {
                svg.append('text')
                    .attr('x', node.x)
                    .attr('y', node.y + 55)
                    .attr('text-anchor', 'middle')
                    .attr('fill', '#8b949e')
                    .attr('font-size', '11px')
                    .attr('font-family', 'JetBrains Mono, monospace')
                    .text(descriptions[i]);
            });
        }
        
        // Architecture Diagram
        function drawArchitectureDiagram() {
            const container = d3.select('#architecture-diagram');
            const width = container.node().getBoundingClientRect().width;
            const height = 350;
            
            const svg = container.append('svg')
                .attr('width', width)
                .attr('height', height);
            
            const centerX = width / 2;
            
            // Main module
            svg.append('rect')
                .attr('x', centerX - 100)
                .attr('y', 30)
                .attr('width', 200)
                .attr('height', 60)
                .attr('rx', 12)
                .attr('fill', '#58a6ff')
                .attr('opacity', 0.2)
                .attr('stroke', '#58a6ff')
                .attr('stroke-width', 2);
            
            svg.append('text')
                .attr('x', centerX)
                .attr('y', 65)
                .attr('text-anchor', 'middle')
                .attr('fill', '#f0f6fc')
                .attr('font-size', '16px')
                .attr('font-weight', '600')
                .text('main.ts');
            
            // Sub modules
            const subModules = [
                { label: 'timestampParser.ts', x: centerX - 180, color: '#3fb950' },
                { label: 'youtubeController.ts', x: centerX + 180, color: '#a371f7' }
            ];
            
            subModules.forEach(mod => {
                svg.append('rect')
                    .attr('x', mod.x - 100)
                    .attr('y', 150)
                    .attr('width', 200)
                    .attr('height', 60)
                    .attr('rx', 12)
                    .attr('fill', mod.color)
                    .attr('opacity', 0.2)
                    .attr('stroke', mod.color)
                    .attr('stroke-width', 2);
                
                svg.append('text')
                    .attr('x', mod.x)
                    .attr('y', 185)
                    .attr('text-anchor', 'middle')
                    .attr('fill', '#f0f6fc')
                    .attr('font-size', '14px')
                    .attr('font-weight', '500')
                    .text(mod.label);
                
                // Connection line
                svg.append('line')
                    .attr('x1', centerX)
                    .attr('y1', 90)
                    .attr('x2', mod.x)
                    .attr('y2', 150)
                    .attr('stroke', '#8b949e')
                    .attr('stroke-width', 2)
                    .attr('stroke-dasharray', '5,5');
            });
            
            // Functions
            const leftFuncs = ['isTimestampLink()', 'extractTimestamp()', 'parseTimeString()'];
            const rightFuncs = ['findYouTubeIframe()', 'seekTo()', 'playVideo()'];
            
            leftFuncs.forEach((fn, i) => {
                svg.append('text')
                    .attr('x', centerX - 180)
                    .attr('y', 240 + i * 25)
                    .attr('text-anchor', 'middle')
                    .attr('fill', '#8b949e')
                    .attr('font-size', '12px')
                    .attr('font-family', 'JetBrains Mono, monospace')
                    .text(fn);
            });
            
            rightFuncs.forEach((fn, i) => {
                svg.append('text')
                    .attr('x', centerX + 180)
                    .attr('y', 240 + i * 25)
                    .attr('text-anchor', 'middle')
                    .attr('fill', '#8b949e')
                    .attr('font-size', '12px')
                    .attr('font-family', 'JetBrains Mono, monospace')
                    .text(fn);
            });
        }
        
        // Tech Stack Chart
        function drawTechStackChart() {
            const container = d3.select('#tech-stack-chart');
            const width = container.node().getBoundingClientRect().width;
            const height = 300;
            
            const svg = container.append('svg')
                .attr('width', width)
                .attr('height', height);
            
            const data = [
                { name: 'TypeScript', value: 85, color: '#3178c6' },
                { name: 'Obsidian API', value: 70, color: '#7c3aed' },
                { name: 'YouTube API', value: 50, color: '#ff0000' },
                { name: 'esbuild', value: 30, color: '#ffcf00' },
                { name: 'D3.js (docs)', value: 40, color: '#f9a03c' }
            ];
            
            const margin = { top: 30, right: 30, bottom: 30, left: 120 };
            const innerWidth = width - margin.left - margin.right;
            const innerHeight = height - margin.top - margin.bottom;
            
            const g = svg.append('g')
                .attr('transform', `translate(${margin.left}, ${margin.top})`);
            
            const yScale = d3.scaleBand()
                .domain(data.map(d => d.name))
                .range([0, innerHeight])
                .padding(0.3);
            
            const xScale = d3.scaleLinear()
                .domain([0, 100])
                .range([0, innerWidth]);
            
            // Bars
            g.selectAll('rect')
                .data(data)
                .enter()
                .append('rect')
                .attr('x', 0)
                .attr('y', d => yScale(d.name))
                .attr('width', d => xScale(d.value))
                .attr('height', yScale.bandwidth())
                .attr('rx', 6)
                .attr('fill', d => d.color)
                .attr('opacity', 0.8);
            
            // Labels
            g.selectAll('.label')
                .data(data)
                .enter()
                .append('text')
                .attr('x', -10)
                .attr('y', d => yScale(d.name) + yScale.bandwidth() / 2)
                .attr('dy', '0.35em')
                .attr('text-anchor', 'end')
                .attr('fill', '#f0f6fc')
                .attr('font-size', '14px')
                .text(d => d.name);
            
            // Values
            g.selectAll('.value')
                .data(data)
                .enter()
                .append('text')
                .attr('x', d => xScale(d.value) + 10)
                .attr('y', d => yScale(d.name) + yScale.bandwidth() / 2)
                .attr('dy', '0.35em')
                .attr('fill', '#8b949e')
                .attr('font-size', '12px')
                .text(d => `${d.value}%`);
        }
        
        // Initialize all diagrams
        drawFlowDiagram();
        drawArchitectureDiagram();
        drawTechStackChart();
        
        // Responsive redraw
        window.addEventListener('resize', () => {
            d3.select('#flow-diagram svg').remove();
            d3.select('#architecture-diagram svg').remove();
            d3.select('#tech-stack-chart svg').remove();
            drawFlowDiagram();
            drawArchitectureDiagram();
            drawTechStackChart();
        });
    </script>
</body>
</html>
